import{k as w,l as I,f as A,g,w as h,d as C,c as p,F as E,r as M,m as x,o as S,t as K}from"./index-a88ad4e5.js";import{c as T,i as z,g as F,a as _}from"./account-9a3cc9fb.js";import{g as q}from"./mosaic-e3d91cb3.js";import{g as y}from"./namespace-c61101bf.js";const V=w("account",()=>{const e=I(),f=A(),i=g(void 0),t=g(void 0),u=g(void 0),c=g([]),n=g([]);return h([()=>e.privateKey,()=>e.useSSS],()=>{const a="account store watch (settings):";if(e.logger.debug(a,"start"),e.useSSS===!1&&e.privateKey.length>0){if(e.logger.debug(a,"private key account."),i.value=T(e.privateKey,f.networkType),typeof i.value>"u"){e.logger.error(a,"create account failed.");return}e.addressStr=i.value.address.plain()}e.logger.debug(a,"end")},{immediate:!0}),h(()=>e.addressStr,()=>{const a="account store watch (address):";if(e.logger.debug(a,"start",e.addressStr),t.value=void 0,u.value=void 0,!z(e.addressStr)){e.logger.error(a,"address invalid.");return}F(e.addressStr).then(o=>{t.value=o}).catch(o=>{e.logger.error(a,"get account info failed.",o),t.value=void 0}),_(e.addressStr).then(o=>{u.value=o}).catch(o=>{e.logger.error(a,"get multisig info failed.",o),u.value=void 0}),e.logger.debug(a,"end")}),h(t,()=>{const a="account store watch (account info):";if(e.logger.debug(a,"start",t.value),c.value=[],n.value=[],typeof t.value>"u"){e.logger.error(a,"account info invalid.");return}const o=t.value.address;q(o).then(async r=>{const d=[];r.forEach(s=>{d.push(s.id)}),y(d).then(s=>{d.forEach(v=>{const l=s.find(k=>k.mosaicId.equals(v)),b=typeof l>"u"||l.names.length===0?"":l==null?void 0:l.names[0].name;c.value.push({id:v,alias:b})})}).catch(s=>{e.logger.error(a,"get mosaics names failed.",s),n.value=[]})}).catch(r=>{e.logger.error(a,"get mosaics failed.",r),c.value=[]});const m=[];t.value.mosaics.forEach(r=>{m.push(r.id)}),y(m).then(r=>{m.forEach(d=>{const s=r.find(l=>l.mosaicId.equals(d)),v=typeof s>"u"||s.names.length===0?"":s==null?void 0:s.names[0].name;n.value.push({id:d,alias:v})})}).catch(r=>{e.logger.error(a,"get mosaics names failed.",r),n.value=[]}),e.logger.debug(a,"end")}),{accountInfo:t,multisigInfo:u,createdMosaics:c,owendMosaics:n}}),B=["value"],L=["value"],j=C({__name:"SelectboxComponent",props:{attributes:null,items:null,value:null,size:null},emits:["update:value"],setup(e,{emit:f}){const i=e,t=g("form-select");switch(i.size){case"sm":case"md":case"lg":case"xl":t.value+="-"+i.size;break}const u=c=>{const n=c.target;f("update:value",n.value)};return(c,n)=>(S(),p("select",x(e.attributes,{value:e.value,onChange:u,class:t.value}),[(S(!0),p(E,null,M(e.items,a=>(S(),p("option",{key:`${e.attributes.ariaLabel}-${a.key}`,value:a.value},K(a.display),9,L))),128))],16,B))}});export{j as _,V as u};
