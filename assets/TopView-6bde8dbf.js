import{d as f,c as $,a,D as y,t as v,b as _,u as d,o as T,e as g,g as S,C as i,n as E,h as C,l as M,f as F,A,z as R,p as I,w as N,F as B}from"./index-f9015245.js";import{_ as k,u as K}from"./SelectboxComponent.vue_vue_type_script_setup_true_lang-38bfb8b3.js";import{_ as U}from"./ModalComponent.vue_vue_type_script_setup_true_lang-cbb88a05.js";import{c as V,d as P}from"./account-de4cba90.js";import"./mosaic-2271aab4.js";import"./namespace-f4852e64.js";const z={class:"row my-2"},D={class:"col-md-6 col-form-label"},j={class:"text-black-50 small"},q={class:"col-md-6"},G=f({__name:"NetworkTypeAreaComponent",props:{value:null,disabled:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=e=>{const l=e.target;t("update:value",Number(l.value))};return(e,l)=>(T(),$("div",z,[a("label",D,[y(v(e.$t("settings.netType"))+" ",1),a("p",j,v(e.$t("settings.netTypeSupplement")),1)]),a("div",q,[_(k,{value:o.value,onChange:c,attributes:{ariaLabel:"network-type",disabled:o.disabled},items:[{key:"MAIN",value:d(g.NetworkType).MAIN_NET,display:e.$t("networkTypes.main")},{key:"TEST",value:d(g.NetworkType).TEST_NET,display:e.$t("networkTypes.test")}]},null,8,["value","attributes","items"])])]))}}),H={class:"row my-2"},J={class:"col-md-6 col-form-label"},Q={class:"text-black-50 small"},W=a("br",null,null,-1),X={class:"text-danger"},Y={class:"col-md-6"},Z={class:"text-center"},x=["href"],ee=f({__name:"TestModeAreaComponent",props:{value:{type:Boolean},disabled:{type:Boolean},address:null},emits:["update:value"],setup(o,{emit:t}){const e=S(o.value?i.STR_SELECT_ON:i.STR_SELECT_OFF),l=()=>{t("update:value",e.value===i.STR_SELECT_ON)};return(s,n)=>(T(),$("div",H,[a("label",J,[y(v(s.$t("settings.testMode"))+" ",1),a("p",Q,[y(v(s.$t("settings.testModeSupplement")),1),W,a("span",X,v(s.$t("settings.testModeImportant")),1)])]),a("div",Y,[_(k,{value:e.value,"onUpdate:value":n[0]||(n[0]=u=>e.value=u),onChange:l,attributes:{ariaLabel:"test-mode",disabled:o.disabled},items:[{key:d(i).STR_SELECT_ON,value:d(i).STR_SELECT_ON,display:s.$t("settings.selectOn")},{key:d(i).STR_SELECT_OFF,value:d(i).STR_SELECT_OFF,display:s.$t("settings.selectOff")}]},null,8,["value","attributes","items"]),a("div",Z,[a("a",{type:"button",class:E(["btn btn-secondary my-2",{"btn-success":e.value===d(i).STR_SELECT_ON,disabled:e.value!==d(i).STR_SELECT_ON}]),href:"https://testnet.symbol.tools/?recipient="+o.address+"&amount=100",target:"_blank"},v(s.$t("settings.accessFaucet")),11,x)])])]))}}),te={class:"input-group"},se=["value","type","placeholder","disabled"],O=f({__name:"InputPasswordComponent",props:{placeholder:null,value:null,disabled:{type:Boolean},isTestMode:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=o,e=S(!1);function l(){c.disabled===!1&&(e.value=!e.value)}const s=n=>{const u=n.target;t("update:value",u.value)};return(n,u)=>(T(),$("div",te,[a("input",{value:o.value,type:e.value?"text":"password",onChange:s,class:"form-control",autocomplete:"off",autocorrect:"off",placeholder:o.placeholder,disabled:o.disabled||o.isTestMode},null,40,se),a("i",{class:E(["bi input-group-text",{"bi-eye":!e.value,"bi-eye-slash":e.value}]),onClick:l},null,2)]))}}),ae={class:"row my-2"},le={class:"col-md-6 col-form-label"},oe={class:"text-black-50 small"},ne=a("br",null,null,-1),ue={class:"text-danger"},ie={class:"col-md-6"},de=f({__name:"PrivateKeyAreaComponent",props:{value:null,disabled:{type:Boolean},isTestMode:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const c=e=>{const l=e.target;t("update:value",l.value)};return(e,l)=>(T(),$("div",ae,[a("label",le,[y(v(e.$t("settings.secret"))+" ",1),a("p",oe,[y(v(e.$t("settings.secretSupplement")),1),ne,a("span",ue,v(e.$t("settings.secretImportant")),1)])]),a("div",ie,[o.disabled?(T(),C(O,{key:1,value:"",disabled:o.disabled,placeholder:e.$t("settings.secretSSSOn")},null,8,["disabled","placeholder"])):(T(),C(O,{key:0,value:o.value,"is-test-mode":o.isTestMode,onChange:c,placeholder:e.$t("writer.pleaseInputItem",{item:e.$t("settings.secret")})},null,8,["value","is-test-mode","placeholder"]))])]))}}),re={class:"row my-2"},ve={class:"col-md-6 col-form-label"},ce={class:"text-black-50 small"},pe=a("br",null,null,-1),me={class:"text-danger"},Se={class:"col-md-6"},_e=f({__name:"UseSSSAreaComponent",props:{value:{type:Boolean},disabled:{type:Boolean}},emits:["update:value"],setup(o,{emit:t}){const e=S(o.value?i.STR_SELECT_ON:i.STR_SELECT_OFF),l=()=>{t("update:value",e.value===i.STR_SELECT_ON)};return(s,n)=>(T(),$("div",re,[a("label",ve,[y(v(s.$t("settings.useSSS"))+" ",1),a("p",ce,[y(v(s.$t("settings.useSSSSupplement")),1),pe,a("span",me,v(s.$t("settings.useSSSImportant")),1)])]),a("div",Se,[_(k,{value:e.value,"onUpdate:value":n[0]||(n[0]=u=>e.value=u),onChange:l,attributes:{ariaLabel:"use-sss",disabled:o.disabled},items:[{key:d(i).STR_SELECT_ON,value:d(i).STR_SELECT_ON,display:s.$t("settings.selectOn")},{key:d(i).STR_SELECT_OFF,value:d(i).STR_SELECT_OFF,display:s.$t("settings.selectOff")}]},null,8,["value","attributes","items"])])]))}}),Te={class:"container animate__animated animate__fadeIn"},ye={class:"row my-2"},be={class:"col text-center"},ge=["disabled"],Ce=f({__name:"TopView",setup(o){const t=M(),c=F(),e=A();K();const l=S(c.networkType),s=S(t.useSSS),n=S(t.isTestMode),u=S(t.privateKey),w=R(()=>c.networkType!==l.value||t.useSSS!==s.value||s.value===!1&&(t.isTestMode!==n.value||t.privateKey!==u.value)),b=S(!1),h=S("privateKeyInvalid");I(()=>{l.value=c.networkType,s.value=t.useSSS,n.value=t.isTestMode,u.value=t.privateKey}),N(s,()=>{s.value&&(n.value=!1,l.value=e.networkType)}),N(n,()=>{n.value&&(l.value=g.NetworkType.TEST_NET,u.value=t.testAccount.privateKey)});const L=async()=>{const m="setting apply:";if(t.logger.debug(m,"start"),s.value?(l.value=e.networkType,u.value=""):n.value&&(l.value=g.NetworkType.TEST_NET,u.value=t.testAccount.privateKey),l.value!==g.NetworkType.MAIN_NET&&l.value!==g.NetworkType.TEST_NET){t.logger.error(m,"input network type invaild."),h.value="networkTypeInvalid",b.value=!0;return}if(e.sssLinked===!1&&s.value===!0){t.logger.error(m,"input use sss invaild."),h.value="useSSSInvalid",b.value=!0;return}if(s.value===!1){const r=V(u.value,l.value);if(typeof r>"u"){t.logger.error(m,"input private key invaild."),h.value="privateKeyInvalid",b.value=!0;return}if(n.value&&typeof await P(r.address.plain())>"u"){b.value=!0,h.value="getFausetFailed";return}t.account=r}c.networkType=l.value,t.useSSS=s.value,t.isTestMode=n.value,t.privateKey=u.value,t.logger.debug(m,"end")};return(m,r)=>(T(),$(B,null,[a("section",Te,[_(_e,{value:s.value,"onUpdate:value":r[0]||(r[0]=p=>s.value=p),disabled:!d(e).sssLinked},null,8,["value","disabled"]),_(ee,{value:n.value,"onUpdate:value":r[1]||(r[1]=p=>n.value=p),disabled:s.value,address:d(t).testAccount.address.plain()},null,8,["value","disabled","address"]),_(G,{value:l.value,"onUpdate:value":r[2]||(r[2]=p=>l.value=p),disabled:s.value||n.value},null,8,["value","disabled"]),_(de,{value:u.value,"onUpdate:value":r[3]||(r[3]=p=>u.value=p),disabled:s.value,"is-test-mode":n.value},null,8,["value","disabled","is-test-mode"]),a("div",ye,[a("div",be,[a("button",{type:"button",class:E(["btn btn-primary",{"btn-secondary":!d(w)}]),onClick:L,disabled:!d(w)},v(m.$t("settings.apply")),11,ge)])])]),_(U,{"is-shown":b.value,"onUpdate:is-shown":r[4]||(r[4]=p=>b.value=p),title:m.$t("settings.errorTitle"),message:m.$t("settings.errorMessage."+h.value)},null,8,["is-shown","title","message"])],64))}});export{Ce as default};
