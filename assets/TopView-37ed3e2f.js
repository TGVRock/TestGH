import{c as f,e as $,f as a,B as b,t as p,i as _,h as g,o as S,j as h,r as m,n as w,k,u as I,a as E,b as A,y as B,D as K,F as U}from"./index-3663960e.js";import{_ as N}from"./SelectboxComponent.vue_vue_type_script_setup_true_lang-a71bf0b8.js";import{_ as M}from"./ModalComponent.vue_vue_type_script_setup_true_lang-1ea56b5d.js";import{c as V}from"./account-b4451352.js";const F={class:"row my-2"},O={class:"col-md-6 col-form-label"},P={class:"text-black-50 small"},L={class:"col-md-6"},D=f({__name:"NetworkTypeAreaComponent",props:{value:null},emits:["update:value"],setup(n,{emit:t}){const o=e=>{const s=e.target;t("update:value",Number(s.value))};return(e,s)=>(S(),$("div",F,[a("label",O,[b(p(e.$t("settings.netType"))+" ",1),a("p",P,p(e.$t("settings.netTypeSupplement")),1)]),a("div",L,[_(N,{value:n.value,onChange:o,attributes:{ariaLabel:"network-type"},items:[{key:"MAIN",value:g(h.NetworkType).MAIN_NET,display:e.$t("networkTypes.main")},{key:"TEST",value:g(h.NetworkType).TEST_NET,display:e.$t("networkTypes.test")}]},null,8,["value","items"])])]))}}),j={class:"input-group"},z=["value","type","placeholder","disabled"],T=f({__name:"InputPasswordComponent",props:{placeholder:null,value:null,disabled:{type:Boolean}},emits:["update:value"],setup(n,{emit:t}){const o=n,e=m(!1);function s(){o.disabled===!1&&(e.value=!e.value)}const l=u=>{const i=u.target;t("update:value",i.value)};return(u,i)=>(S(),$("div",j,[a("input",{value:n.value,type:e.value?"text":"password",onChange:l,class:"form-control",autocomplete:"off",autocorrect:"off",placeholder:n.placeholder,disabled:n.disabled},null,40,z),a("i",{class:w(["bi input-group-text",{"bi-eye":!e.value,"bi-eye-slash":e.value}]),onClick:s},null,2)]))}}),q={class:"row my-2"},G={class:"col-md-6 col-form-label"},H={class:"text-black-50 small"},J=a("br",null,null,-1),Q={class:"text-danger"},R={class:"col-md-6"},W=f({__name:"PrivateKeyAreaComponent",props:{value:null,disabled:{type:Boolean}},emits:["update:value"],setup(n,{emit:t}){const o=e=>{const s=e.target;t("update:value",s.value)};return(e,s)=>(S(),$("div",q,[a("label",G,[b(p(e.$t("settings.secret"))+" ",1),a("p",H,[b(p(e.$t("settings.secretSupplement")),1),J,a("span",Q,p(e.$t("settings.secretInmpotant")),1)])]),a("div",R,[n.disabled?(S(),k(T,{key:1,value:"",disabled:n.disabled,placeholder:e.$t("settings.secretSSSOn")},null,8,["disabled","placeholder"])):(S(),k(T,{key:0,value:n.value,onChange:o,placeholder:e.$t("writer.pleaseInputItem",{item:e.$t("settings.secret")})},null,8,["value","placeholder"]))])]))}}),X={class:"row my-2"},Y={class:"col-md-6 col-form-label"},Z={class:"text-black-50 small"},x=a("br",null,null,-1),ee={class:"text-danger"},te={class:"col-md-6"},se=f({__name:"UseSSSAreaComponent",props:{value:{type:Boolean},disabled:{type:Boolean}},emits:["update:value"],setup(n,{emit:t}){const o=n,e="on",s="off",l=m(o.value?e:s),u=()=>{t("update:value",l.value===e)};return(i,c)=>(S(),$("div",X,[a("label",Y,[b(p(i.$t("settings.useSSS"))+" ",1),a("p",Z,[b(p(i.$t("settings.useSSSSupplement")),1),x,a("span",ee,p(i.$t("settings.useSSSInmpotant")),1)])]),a("div",te,[_(N,{value:l.value,"onUpdate:value":c[0]||(c[0]=y=>l.value=y),onChange:u,attributes:{ariaLabel:"use-sss",disabled:n.disabled},items:[{key:e,value:e,display:i.$t("settings.useSSSOn")},{key:s,value:s,display:i.$t("settings.useSSSOff")}]},null,8,["value","attributes","items"])])]))}}),ae={class:"container animate__animated animate__fadeIn"},le={class:"row my-2"},ne={class:"col text-center"},oe=["disabled"],pe=f({__name:"TopView",setup(n){const t=I(),o=E(),e=A(),s=m(o.networkType),l=m(t.useSSS),u=m(t.privateKey),i=B(()=>o.networkType!==s.value||t.useSSS!==l.value||l.value===!1&&t.privateKey!==u.value),c=m(!1),y=m("privateKeyInvalid");K(()=>{s.value=o.networkType,l.value=t.useSSS,u.value=t.privateKey});const C=()=>{const d="setting apply:";if(t.logger.debug(d,"start"),l.value&&(s.value=e.networkType),s.value!==h.NetworkType.MAIN_NET&&s.value!==h.NetworkType.TEST_NET){t.logger.error(d,"input network type invaild."),y.value="networkTypeInvalid",c.value=!0;return}if(e.sssLinked===!1&&l.value===!0){t.logger.error(d,"input use sss invaild."),y.value="useSSSInvalid",c.value=!0;return}if(l.value===!1){const r=V(u.value,s.value);if(typeof r>"u"){t.logger.error(d,"input private key invaild."),y.value="privateKeyInvalid",c.value=!0;return}t.account=r}o.networkType=s.value,t.useSSS=l.value,t.privateKey=u.value,t.logger.debug(d,"end")};return(d,r)=>(S(),$(U,null,[a("section",ae,[_(D,{value:s.value,"onUpdate:value":r[0]||(r[0]=v=>s.value=v)},null,8,["value"]),_(se,{value:l.value,"onUpdate:value":r[1]||(r[1]=v=>l.value=v),disabled:!g(e).sssLinked},null,8,["value","disabled"]),_(W,{value:u.value,"onUpdate:value":r[2]||(r[2]=v=>u.value=v),disabled:l.value},null,8,["value","disabled"]),a("div",le,[a("div",ne,[a("button",{type:"button",class:w(["btn btn-primary",{"btn-secondary":!g(i)}]),onClick:C,disabled:!g(i)},p(d.$t("settings.apply")),11,oe)])])]),_(M,{"is-shown":c.value,"onUpdate:is-shown":r[3]||(r[3]=v=>c.value=v),title:d.$t("settings.errorTitle"),message:d.$t("settings.errorMessage."+y.value)},null,8,["is-shown","title","message"])],64))}});export{pe as default};
