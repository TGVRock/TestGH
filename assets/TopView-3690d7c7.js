import{c as $,o as m,e as v,f as o,t as h,i as c,h as a,q as d,u as A,y as I,C as f,z as F,r as M,b as R,w as D,k as g,n as E,l as T}from"./index-f90cc147.js";import{u as k}from"./WriteMosaic-8c7df084.js";import{_ as N}from"./DataAreaComponent.vue_vue_type_script_setup_true_lang-2ac768f3.js";import{_ as L}from"./SelectboxComponent.vue_vue_type_script_setup_true_lang-0d263bea.js";import{M as y}from"./MosaicInfoRowComponent-f0961051.js";import{_ as C}from"./TextAreaComponent.vue_vue_type_script_setup_true_lang-48f2e8a1.js";import{e as b,f as B,h as X}from"./eternalbookprotocol-c3fcf024.js";import{u as U,g as P}from"./WriteOnChainData-a16d5c8b.js";import{b as O}from"./account-e0152710.js";import"./mosaic-0f2963a1.js";const V={class:"row my-2"},z={class:"col-md-3 col-form-label"},K={class:"col-md-9"},Z=$({__name:"FeeSelectboxComponent",props:{value:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",s.value)};return(e,s)=>(m(),v("div",V,[o("label",z,h(e.$t("preview.fee")),1),o("div",K,[c(L,{value:i.value,onChange:t,attributes:{ariaLabel:"tx-fee"},items:[{key:"default",value:a(d).Default,display:e.$t("preview.feeDefault")},{key:"fast",value:a(d).Fast,display:e.$t("preview.feeFast")},{key:"average",value:a(d).Average,display:e.$t("preview.feeAverage")},{key:"slow",value:a(d).Slow,display:e.$t("preview.feeSlow")},{key:"slowest",value:a(d).Slowest,display:e.$t("preview.feeSlowest")}]},null,8,["value","items"])])]))}}),H={class:"row"},W={class:"col-12"},Y={class:"input-group justify-content-around"},j={class:"input-group-btn"},q={class:"btn btn-primary"},G={id:"buttonSelectFileText"},J=$({__name:"FileSelectButtonComponent",props:{base64:null},emits:["update:base64"],setup(i,{emit:l}){const t=e=>{const s=e.target.files||null;if(s===null||typeof s.length>"u"||s.length<1)return;const u=new FileReader;u.onload=()=>{l("update:base64",u.result)},u.readAsDataURL(s[0])};return(e,s)=>(m(),v("div",H,[o("div",W,[o("div",Y,[o("label",j,[o("div",q,[o("span",G,h(e.$t("writer.fileSelect")),1),o("input",{type:"file",class:"d-none",onChange:t},null,32)])])])])]))}}),Q={class:"row my-2"},x={class:"col-md-3 col-form-label"},ee={class:"col-md-9"},te=["value","placeholder","rows"],ae=$({__name:"TextareaAreaComponent",props:{itemName:null,placeholder:null,rows:null,value:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",s.value)};return(e,s)=>(m(),v("div",Q,[o("label",x,h(i.itemName),1),o("div",ee,[o("textarea",{class:"form-control",value:i.value,onChange:t,placeholder:i.placeholder,rows:i.rows},null,40,te)])]))}}),se={class:"row my-2"},le={class:"col-lg-6 align-self-center text-center"},oe={class:"col-lg-6 align-self-center"},ne={key:0,class:"my-2"},ie={key:1,class:"animate__animated animate__fadeIn my-2"},re=$({__name:"InputAreaComponent",setup(i){const l=A(),t=U(),e=I(()=>Math.ceil(t.dataBase64.length/f.TX_DATASIZE_PER_TRANSFER)),s=I(()=>Math.ceil(e.value/f.TX_DATA_TX_NUM)),u=I(()=>(t.dataBase64.length+e.value*f.TX_OVERHEAD_SIZE_PER_INNER+s.value*(f.TX_DATASIZE_PER_TRANSFER+f.TX_OVERHEAD_SIZE_PER_INNER))*(r.get(l.feeKind)||f.TX_FEE_MULTIPLIER_DEFAULT)*Math.pow(10,-1*f.TX_XYM_DIVISIBILITY)),r=new Map([[d.Default,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Fast,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Average,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Slow,f.TX_FEE_MULTIPLIER_DEFAULT],[d.Slowest,f.TX_FEE_MULTIPLIER_DEFAULT]]);return P().then(n=>{typeof n>"u"||(r.set(d.Fast,b(n,d.Fast)),r.set(d.Average,b(n,d.Average)),r.set(d.Slow,b(n,d.Slow)),r.set(d.Slowest,b(n,d.Slowest)))}),(n,p)=>(m(),v("section",se,[o("div",le,[c(N,{base64:a(t).dataBase64,mime:a(B)(a(t).dataBase64)},null,8,["base64","mime"])]),o("div",oe,[c(C,{"item-name":n.$t("preview.title"),placeholder:n.$t("writer.pleaseInputItem",{item:n.$t("preview.title")}),value:a(t).title,"onUpdate:value":p[0]||(p[0]=_=>a(t).title=_)},null,8,["item-name","placeholder","value"]),c(ae,{"item-name":n.$t("preview.message"),placeholder:n.$t("writer.pleaseInputItem",{item:n.$t("preview.message")}),rows:5,value:a(t).message,"onUpdate:value":p[1]||(p[1]=_=>a(t).message=_)},null,8,["item-name","placeholder","value"]),c(Z,{value:a(l).feeKind,"onUpdate:value":p[2]||(p[2]=_=>a(l).feeKind=_)},null,8,["value"]),c(J,{base64:a(t).dataBase64,"onUpdate:base64":p[3]||(p[3]=_=>a(t).dataBase64=_)},null,8,["base64"]),a(s)===0?(m(),v("div",ne,[o("h6",null,h(n.$t("preview.info")),1),o("p",null,h(n.$t("preview.notice")),1)])):(m(),v("div",ie,[o("h6",null,h(n.$t("preview.info")),1),c(y,{title:n.$t("preview.dataSize"),data:a(X)(a(t).dataBase64.length)+" "+n.$t("preview.byte")},null,8,["title","data"]),c(y,{title:n.$t("preview.entire"),data:a(s).toString()},null,8,["title","data"]),c(y,{title:n.$t("preview.predictFee"),data:a(u).toFixed(6)+" xym"},null,8,["title","data"])]))])]))}}),ce=$({__name:"RelatedMosaicAreaComponent",setup(i){const l=U();return(t,e)=>(m(),v("section",null,[c(C,{"item-name":t.$t("mosaicInfo.id"),placeholder:t.$t("writer.pleaseInputItem",{item:t.$t("mosaicInfo.id")}),value:a(l).relatedMosaicIdStr,"onUpdate:value":e[0]||(e[0]=s=>a(l).relatedMosaicIdStr=s)},null,8,["item-name","placeholder","value"]),c(F,{class:"text-center","next-route-name":"WriteOnChainData","item-name":t.$t("writer.writeOnChain")},null,8,["item-name"])]))}}),de={class:"form-check"},me=["value","id"],ue=["for"],S=$({__name:"CheckboxComponent",props:{id:null,itemName:null,checked:{type:Boolean}},emits:["update:checked"],setup(i,{emit:l}){const e=M("cb"+i.id),s=u=>{const r=u.target;l("update:checked",r.checked)};return(u,r)=>(m(),v("div",de,[o("input",{type:"checkbox",value:i.checked,onChange:s,class:"form-check-input",id:e.value},null,40,me),o("label",{class:"form-check-label",for:e.value},h(i.itemName),9,ue)]))}}),pe={class:"row my-2"},_e={class:"col-md-3 col-form-label"},ve={class:"col-md-9 col-form-label"},fe={class:"row row-cols-2"},he={class:"col-md-3"},$e={class:"col-md-3"},we={class:"col-md-3"},ge={class:"col-md-3"},be=$({__name:"MosaicFlagAreaComponent",setup(i){const l=k();return(t,e)=>(m(),v("div",pe,[o("div",_e,[o("label",null,h(t.$t("writer.mosaicFlags")),1)]),o("div",ve,[o("div",fe,[o("div",he,[c(S,{id:"SupplyMutable","item-name":t.$t("mosaicInfo.supplyMutable"),checked:a(l).mosaicFlags.supplyMutable,"onUpdate:checked":e[0]||(e[0]=s=>a(l).mosaicFlags.supplyMutable=s)},null,8,["item-name","checked"])]),o("div",$e,[c(S,{id:"Transferable","item-name":t.$t("mosaicInfo.transferable"),checked:a(l).mosaicFlags.transferable,"onUpdate:checked":e[1]||(e[1]=s=>a(l).mosaicFlags.transferable=s)},null,8,["item-name","checked"])]),o("div",we,[c(S,{id:"Restrictable","item-name":t.$t("mosaicInfo.restrictable"),checked:a(l).mosaicFlags.restrictable,"onUpdate:checked":e[2]||(e[2]=s=>a(l).mosaicFlags.restrictable=s)},null,8,["item-name","checked"])]),o("div",ge,[c(S,{id:"Revokable","item-name":t.$t("mosaicInfo.revokable"),checked:a(l).mosaicFlags.revokable,"onUpdate:checked":e[3]||(e[3]=s=>a(l).mosaicFlags.revokable=s)},null,8,["item-name","checked"])])])])]))}}),Se={class:"row my-2"},ke={class:"col-md-3 col-form-label"},Ie={class:"col-md-9"},ye=["value","placeholder","min"],Me=$({__name:"NumberAreaComponent",props:{itemName:null,placeholder:null,value:null,min:null},emits:["update:value"],setup(i,{emit:l}){const t=e=>{const s=e.target;l("update:value",Number(s.value))};return(e,s)=>(m(),v("div",Se,[o("label",ke,h(i.itemName),1),o("div",Ie,[o("input",{type:"number",value:i.value,onChange:t,class:"form-control",placeholder:i.placeholder,min:i.min},null,40,ye)])]))}}),Ce=$({__name:"CreateMosaicAreaComponent",setup(i){const l=k();return(t,e)=>(m(),v("section",null,[c(be),c(Me,{"item-name":t.$t("mosaicInfo.supply"),placeholder:t.$t("writer.pleaseInputItem",{item:t.$t("mosaicInfo.supply")}),value:a(l).amount,"onUpdate:value":e[0]||(e[0]=s=>a(l).amount=s),min:1},null,8,["item-name","placeholder","value"]),c(F,{class:"text-center","next-route-name":"CreateMosaic","item-name":t.$t("writer.createMosaic")},null,8,["item-name"])]))}}),Ee={class:"row my-2"},Te={class:"col-md-3 col-form-label"},Ae={class:"col-md-9"},Fe=$({__name:"SSSLinkedSelectAreaComponent",setup(i){const l=A(),t=R(),e=k(),s=M([]);return D(()=>[t.sssLinked,l.useSSS],async()=>{var p;const u="sss linked selectbox area watch:";l.logger.debug(u,"start",{sssLinked:t.sssLinked,sssUse:l.useSSS});const r=t.sssLinked&&l.useSSS?t.address:((p=l.account)==null?void 0:p.address.plain())||"";s.value.push({key:r,value:r,display:r}),e.ownerAddress=r;const n=await O(r);for(let _=0;_<n.length;_++)s.value.push({key:n[_].plain(),value:n[_].plain(),display:"(multisig) "+n[_].plain()});l.logger.debug(u,"end")},{immediate:!0}),(u,r)=>(m(),v("div",Ee,[o("label",Te,h(u.$t("mosaicInfo.address")),1),o("div",Ae,[c(L,{value:a(e).ownerAddress,"onUpdate:value":r[0]||(r[0]=n=>a(e).ownerAddress=n),attributes:{ariaLabel:"address"},items:s.value},null,8,["value","items"])])]))}});var w=(i=>(i.CreateMosaic="CreateMosaic",i.RelatedMosaic="RelatedMosaic",i))(w||{});const Re={class:"container animate__animated animate__fadeIn"},Le={class:"my-2"},Ue={class:"row my-2"},De={class:"col-lg-3 d-lg-grid gap-lg-2 mt-2 mb-auto"},Ne={class:"col-lg-9 tab-content"},Ye=$({__name:"TopView",setup(i){const l=R(),t=k(),e=M(w.CreateMosaic);t.ownerAddress="";function s(){e.value=w.CreateMosaic}function u(){e.value=w.RelatedMosaic}return(r,n)=>(m(),v("article",Re,[c(re),o("section",Le,[a(l).sssLinked?(m(),g(Fe,{key:0})):(m(),g(C,{key:1,"item-name":r.$t("mosaicInfo.address"),placeholder:r.$t("writer.pleaseInputItem",{item:r.$t("mosaicInfo.address")}),value:a(t).ownerAddress,"onUpdate:value":n[0]||(n[0]=p=>a(t).ownerAddress=p)},null,8,["item-name","placeholder","value"]))]),o("section",Ue,[o("div",De,[o("div",{class:E(["col-6 col-lg-12 btn text-lg-start",{"btn-success":e.value===a(w).CreateMosaic}]),onClick:s},h(r.$t("writer.modeCreate")),3),o("div",{class:E(["col-6 col-lg-12 btn text-lg-start",{"btn-success":e.value===a(w).RelatedMosaic}]),onClick:u},h(r.$t("writer.modeRelated")),3)]),o("div",Ne,[e.value===a(w).CreateMosaic?(m(),g(Ce,{key:0,class:"animate__animated animate__fadeIn"})):T("",!0),e.value===a(w).RelatedMosaic?(m(),g(ce,{key:1,class:"animate__animated animate__fadeIn"})):T("",!0)])])]))}});export{Ye as default};
